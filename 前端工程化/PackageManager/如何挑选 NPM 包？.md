## 关键环节

### Popularity

npm 包的 “人气”，由以下具体的部分组成：
- `Stars`: 点赞的数量。
- `Fork`: 分叉的数量。
- `Subscribers`: 订阅的数量。
- `Contributors`: 贡献的数量。
- `Dependents`: 依赖的数量。
- `Downloads`: 下载的数量。
- ...
### Quality

npm 包 “质量”，受以下因素影响：
- 是否有 README 文件？是否有 Licence 文件？（通常 MIT 最好）。
- 是否有单元测试？测试覆盖率占比多少？
- 构建通过了么？是否带有 npm 出处？（额外考虑因素）
- 版本稳定了吗？版本号是否 > `1.0.0` ？
- 含有 `Linter` 配置吗？
- 有定制的网站，和文档站点吗？
- 是否有过时的依赖？是否存在漏洞？
- 有徽章吗？
- ...
### Maintenance

以下方面通常反应了 npm 包的“维护”情况：
- 最近提交的时间
- 关闭问题的时间
- 提交的频率
- 发布的频率
- 未解决问题占总问题的比值。

## 最佳评分

有一套计算公式可以对以上环节进行综合评估，得出 npm 包的最佳(Optimal)评分。

> **O** = **(0.35 * P) + (0.3 * M) + (0.3 * Q)**

最后计算出得分最高的 **o** 即可。
## npms 评分服务

虽然有现成的公式可以套用，但是统计每个环节的具体评分，是一件非常麻烦且耗时的事情，好在我们可以使用现成的在线 npm 包评分服务 —— [npms](https://npms.io/)。

使用 npms 包评分服务可以很直观的对比同类型的包：
[[前端工程化/PackageManager/assets/c18dec5786be8c009c827847351b2622_MD5.jpeg|Open: Pasted image 20240921181522.png]]
![[前端工程化/PackageManager/assets/c18dec5786be8c009c827847351b2622_MD5.jpeg]]

[[前端工程化/PackageManager/assets/4268e18ad8a4020447a937440a3724e6_MD5.jpeg|Open: Pasted image 20240921181544.png]]
![[前端工程化/PackageManager/assets/4268e18ad8a4020447a937440a3724e6_MD5.jpeg]]
## Provenance (出处)

供应链安全的一个关键部分就是软件的完整性和真实性（即部署到生产中的软件未被篡改且来自有效来源）。NPM 存在一个问题，如果您的 npm 凭据泄露，狡猾的人就可以将看似合法的包发布到 npm 注册表上，这会将恶意代码引入到生态系统中，并且很难检测到。

通过为发布的 npm 包添加出处证明，公开包源代码的链接、构建环境以及构建配置，这使得开发人员可以在下载包之前验证包的构建位置和方式，确保包的来源正确。

出处证明不能完全保证软件包不会被注入恶意代码，但对比不具有“出处证明”的 npm 包，不仅增加了对软件包的签名和校验，还多了一道部署来源的身份认证，从而提高整个供应链的安全性。

**“出处证明”的本质是忽略软件包的内容真实，只严格审核其来源。**

如何确定 npm 包具有出处证明？只需要查看 NPM 包详情页右侧版本字段中是否具有绿色安全标记即可：
[[前端工程化/PackageManager/assets/76491bee1e809edb6c01b1963f9e033f_MD5.jpeg|Open: Pasted image 20240921181818.png]]
![[前端工程化/PackageManager/assets/76491bee1e809edb6c01b1963f9e033f_MD5.jpeg]]

>[!note] 
出处 (Provenance) 是 npm 独有的软件包来源证明服务，个人认为可以将其纳入到评价体系的“质量(Quality)环节。”

有关 NPM 的 Provenance 可以查看 [[生成具有出处证明的 NPM 包]]