## å˜é‡

### å®šä¹‰å˜é‡

```go
var greet string = "Hi"
```

ä½¿ç”¨ `var` å…³é”®å­—å®šä¹‰å˜é‡ï¼Œå¹¶å£°æ˜å˜é‡ç±»å‹ï¼ŒåŒæ—¶å¯¹å˜é‡åˆå§‹åŒ–ã€‚
ä¹Ÿå¯ä»¥å…ˆå£°æ˜åèµ‹å€¼
```go
var greet string
greet = "Hey!"
```

### ç±»å‹æ¨å¯¼

å¯ä»¥çœç•¥ç±»å‹å£°æ˜è®©ç¼–è¯‘å™¨è‡ªåŠ¨è¿›è¡Œæ¨å¯¼ï¼š
```go
var greet = "Hello!"
```

### ç¼ºçœå…³é”®å­—

ç¼ºçœ `var` å…³é”®å­—ä¸â€œç±»å‹å£°æ˜â€ã€‚ä»¥å­—é¢é‡çš„å½¢å¼å®šä¹‰å˜é‡ï¼š

> [!warning]
> åªèƒ½åœ¨å‡½æ•°ä½œç”¨åŸŸä¸­ä½¿ç”¨ã€‚
 
```go
func main(){
	greet:="Are you ok?"
}
```

### æ‰¹é‡å®šä¹‰å˜é‡

```go
var a,b,c string = "are", "you", "ok"
var (
	j int = 1
	k bool = true
	l string = "hey" 
)

// ç±»å‹æ¨å¯¼
var d,e,f = "hello", "hi", "hey"
var (
	g = "hello"
	h = "hi" 
	i = "hey" 
)
```

### äº¤æ¢å˜é‡å€¼

```go
func exchangeVariable(){
	a, b := 'a', 'b'
	b,a = a,b
}
```

## å¸¸é‡

### å®šä¹‰å¸¸é‡

ä½¿ç”¨ `const` å…³é”®å­—å®šä¹‰ï¼Œ**å…³é”®å­—ä¸å¯çœç•¥ã€‚**
```go
const bar int = 1
const foo = "hello" //è‡ªåŠ¨ç±»å‹æ¨å¯¼
```

æ•°å€¼ç±»å‹çš„å¸¸é‡å¦‚æœæ²¡æœ‰ä¸¥æ ¼å£°æ˜ç±»å‹ï¼Œå¯ä»¥åŒæ—¶åˆ†é…ç»™æ•´æ•°æˆ–æµ®ç‚¹æ•°ã€‚
```go
const bar = 1
const foo int = 2
const bz float64 = bar    // âœ…
const bzfoo float64 = foo // âŒ
```
> å¸¸é‡æœ¬è´¨æ˜¯å€¼æ›¿æ¢ã€‚

### iota è¡¨è¾¾å¼

## å†…ç½®ç±»å‹

### bool

å¸ƒå°”ç±»å‹ã€‚
```go
var truth bool = true
var fasely bool = false
```
### string

å­—ç¬¦ä¸²ç±»å‹ã€‚
### (u)int

æ•´æ•°ç±»å‹ã€‚å¯ä»¥åˆ†ä¸ºæœ‰ç¬¦å·ä¸æ— ç¬¦å·æ•´å‹ï¼Œ`u` è¡¨ç¤ºæ— ç¬¦å·æ•´æ•°ã€‚

| (u)init   | é•¿åº¦ç”±å½“å‰çš„ç³»ç»Ÿå†³å®š |
| --------- | ---------- |
| (u)int8   |            |
| (u)init16 |            |
| (u)init32 |            |
| (u)init64 |            |
| uintptr   |            |

### float

æµ®ç‚¹æ•°ç±»å‹

### byte

å­—èŠ‚,8bit
```go
var b byte = 255
```
### runne

`char` ç±»å‹ï¼Œ4B å¤§å°ï¼Œ32bitã€‚

## æ¡ä»¶è¯­å¥

### if è¯­å¥

```go
if condition { statement }

// å¤šåˆ†æ”¯ã€‚
if condition { statement }
else if condition { statement }
else { statement }
```

> [!tip]
> 
> åœ¨ `Go` è¯­æ³•ä¸­ï¼Œæ¡ä»¶æ˜¯æ²¡æœ‰æ‹¬å·æ‹¬èµ·æ¥çš„ã€‚

if è¯­å¥è¿˜æ”¯æŒåˆ›å»ºâ€œ**å—çº§ä½œç”¨åŸŸ**â€æ¥æ‰§è¡Œ**ä¸€ä¸ª**ç®€å•è¯­å¥ï¼Œå¹¶ç”¨æ‰§è¡Œç»“æœæ¥ä½œä¸ºæ¡ä»¶è¡¨è¾¾å¼ã€‚
```go
func readFile() {
	if buffer, err := os.ReadFile("test.txt"); err == nil {
		fmt.Printf("%s\n", buffer)
	} else {
		fmt.Println(err)
	}
}
```

> [!tip]
> è¦æ‰§è¡Œçš„ç®€å•è¯­å¥ä¸æ¡ä»¶è¡¨è¾¾å¼è¦ç”¨åˆ†å· `;` éš”å¼€ã€‚

### switch è¯­å¥

```go
switch [expression] {
	case value 1:
			statement
	case value 2:
			statement		
	default:
			statement
}
```

> [!warning]
> `Go` è¯­æ³•ä¸­ `switch` è¯­å¥çš„æ¯ä¸ª `case` ä¼šè‡ªåŠ¨ `break`ã€‚

```go
func counter(a,b int, op string) int {
	var result int;
	switch op {
		case "+":
			result = a + b
		case "-":
			result = a - b
		case "*":
			result = a * b
		default:
			panic("unsupported operator:" + op)
	}
	return result;
}
```

`switch` è¯­å¥çš„è¡¨è¾¾å¼æ˜¯å¯ä»¥çœç•¥çš„ï¼Œåªä¿ç•™ case åˆ†æ”¯åŒ¹é…ã€‚
```go
func grade(score int) string {
	switch {
	case score < 60:
		return "F"
	case score < 80:
		return "C"
	case score < 90:
		return "B"
	case score <= 100:
		return "A"
	default:
		panic("incorrect score!")
	}
}
```

## å¾ªç¯è¯­å¥

### for

`Go` ä¸­åªæœ‰ä¸€ç§å¾ªç¯ â€”â€” **for å¾ªç¯**ã€‚ä¸æ¡ä»¶è¯­å¥ä¸€æ ·ï¼Œå¾ªç¯çš„è¡¨è¾¾å¼ä¹Ÿä¸éœ€è¦ç”¨æ‹¬å·æ‹¬èµ·æ¥ã€‚
```go
for initial; condition; update {
	statement;
}
```

- `initial` : è¡¨è¾¾å¼åªä¼šåœ¨å¾ªç¯å¼€å§‹æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œç”¨äºåˆå§‹åŒ–å¾ªç¯æ¡ä»¶ã€‚
- `condition` : å¾ªç¯æ¡ä»¶è¡¨è¾¾å¼ï¼Œåªæœ‰ä¸ºâ€œçœŸâ€æ—¶æ‰ä¼šæ‰§è¡Œ statementã€‚
- `update` ï¼šstatement æ‰§è¡Œå®Œæˆåï¼Œç”¨äºæ›´æ–°å¾ªç¯æ¡ä»¶ï¼Œç„¶åå†åˆ¤å®š condition è¡¨è¾¾å¼æ˜¯å¦æˆç«‹ï¼Œä»¥å†³å®šæ˜¯å¦å†æ¬¡æ‰§è¡Œ statementã€‚

ä¸€ä¸ªå…·ä½“çš„ç¤ºä¾‹ï¼Œç”¨äºå°†æ•°å€¼è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°è¾“å‡ºã€‚
```go
func decimalToBinary(decimal int) string {

	if decimal == 0 {
		return "0"
	}

	var result string = ""

	for d := decimal; d > 0; d /= 2 {
		result = result + strconv.Itoa(d%2)
	}

	return result
}
```

ä¸€äº›ç‰¹æ®Šçš„ä½¿ç”¨åœºåˆä¸‹ï¼Œä¹Ÿå¯ä»¥çœå» `initial` ä¸ `update` è¡¨è¾¾å¼ï¼Œåªä¿ç•™ `condition` è¡¨è¾¾å¼ã€‚
```go
for condition { statement }
```

ä¾‹å¦‚ï¼Œé€è¡Œè¯»å–æ–‡ä»¶å†…å®¹ï¼š
```go
func readFile() {

	file, err := os.Open("test.text")

	if err != nil {
		panic(err)
	}

	scanner := bufio.NewScanner(file)

	for scanner.Scan() {
		fmt.Println(scanner.Text())
	}

}
```

ä¹Ÿçœç•¥æ‰€æœ‰çš„å¾ªç¯è¡¨è¾¾å¼ï¼Œä»¥æ‰§è¡Œæ­»å¾ªç¯
```go
func loopEver() {
	for {
		fmt.Println("loop ever!")
	}
}
```

### for range

ç±»ä¼¼äº JavaScript çš„ `forEach` æ–¹æ³•ï¼Œä¸“é—¨ç”¨äºæ•°ç»„çš„éå†è¿­ä»£ã€‚
å¯¹æ¯” `for` è¯­å¥ï¼Œå®ƒä¸éœ€å¾ªç¯çš„ç›¸å…³æ¡ä»¶è¡¨è¾¾å¼ã€‚`range` å…³é”®å­—å¯ä»¥éå†æ•°ç»„æˆ–åˆ‡ç‰‡ï¼Œè¿”å›ç´¢å¼•ä¸‹æ ‡ä¸æ•°ç»„å…ƒç´ ã€‚
```go
for i, v := range arrs {
	fmt.Println(i, v);
}
```

## å‡½æ•°

### å®šä¹‰å‡½æ•°

ä½¿ç”¨ `func` å…³é”®å­—å®šä¹‰ä¸€ä¸ªå‡½æ•°ã€‚
```go
func div(a,b int)(int, int) {
	return a/b, a%b;
}
```

### å¯å˜å‚æ•°

å°†ä¸€ä¸ªä¸å®šæ•°é‡çš„å‚æ•°è¡¨ç¤ºä¸ºä¸€ä¸ªæ•°ç»„ã€‚
```go
func forEach(values ...int) int {
	s := 0
	for i := range values {
		s += values[i]
	}
	return s
}
```

### å‡½æ•°è¿”å›å€¼

Go å‡½æ•°è¿”å›å€¼é€šå¸¸æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯ç»“æœï¼Œå¦ä¸€ä¸ªåˆ™æ˜¯ errorã€‚
```go
func readTestFile() (*os.File, error) {
	content, err := os.Open("test.txt")
	return content, err
}

func main() {
	if content, err := readTestFile(); err != nil {
		panic(err)
	} else {
		fmt.Println(content)
	}
}
```

>[!tip]
>å¦‚æœéœ€è¦å¿½ç•¥æŸä¸ªè¿”å›å€¼ï¼Œåˆ™å¯ä»¥ç”¨ `_` ä¸‹åˆ’çº¿ã€‚

```go
q, _ = div(5, 2);
```

### åŒ¿åå‡½æ•°

åŒ¿åå‡½æ•°å¯¹æ¯”æ™®é€šå‡½æ•°ï¼Œä¸»è¦å°±æ˜¯æ²¡æœ‰å‡½æ•°åã€‚
Go æ²¡æœ‰ lambda  å‡½æ•°ã€‚
```go
func apply(fn func(a, b int) int, a, b int) int {
	return fn(a, b)
}

func main() {
	apply(func(a, b int) int { return a + b }, 1, 2)
}
```

## æŒ‡é’ˆ

### å®šä¹‰æŒ‡é’ˆ

ä½¿ç”¨ `*` è¿ç®—ç¬¦å¯ä»¥å®šä¹‰ç‰¹å®šç±»å‹çš„æŒ‡é’ˆã€‚
ä½¿ç”¨ `&` è¿ç®—ç¬¦è·å–å½“å‰å˜é‡æˆ–æ ‡è¯†ç¬¦çš„æŒ‡é’ˆå€¼ã€‚

`Go` é»˜è®¤é‡‡ç”¨çš„æ˜¯å€¼ä¼ é€’ï¼Œå³ copy å€¼åˆ°ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ä½¿ç”¨æŒ‡é’ˆ(pointer) å®ç°å¼•ç”¨ä¼ é€’ã€‚
```go
func passByValue(a int) int {
	a++
	return a
}

func passByRef(pa *int) *int {
	*pa++
	return pa
}

func main(){
	var a int = 0
	passByValue(a)
	fmt.Println(a) // 0
	passByValue(&a)
	fmt.Println(a) // 1
}
```

|  | èƒ½å¦è¿ç®—ï¼Ÿ | èƒ½å¦èµ‹å€¼ï¼Ÿ | å‚æ•°ä¼ é€’ |
| --- | --- | --- | --- |
| GO | NO | YES | å€¼ä¼ é€’ |
| C++ | YES | YES | å¼•ç”¨ä¼ é€’ |

## æ•°ç»„

- `Go` ä¸­æ•°ç»„çš„å®šä¹‰æ ¼å¼ï¼š`[length] type` ï¼Œè¦éµå¾ªæ•°ç»„é•¿åº¦åœ¨å‰ã€ç±»å‹åœ¨åã€‚
- ç›¸åŒç±»å‹çš„æ•°ç»„ï¼Œå¿…é¡»æ»¡è¶³é•¿åº¦ä¸ç±»å‹éƒ½ç›¸åŒã€‚å› æ­¤ `[3]int` ä¸ `[5]int` ä¸æ˜¯åŒä¸€ä¸ªç±»å‹ã€‚
- `Go` ä¸­æ•°ç»„çš„é•¿åº¦æ˜¯å›ºå®šçš„ã€‚
- `Go` ä¸­æ•°ç»„æ˜¯å€¼ä¼ é€’çš„ã€‚

>[!tip]
>ğŸ’¡ åœ¨å…·ä½“çš„ä½¿ç”¨åœºæ™¯ä¸­åªæœ‰å¯¹é•¿åº¦æ˜ç¡®ä¸”æœ‰é™çš„æƒ…å†µä¸‹æ‰ä¼šä½¿ç”¨æ•°ç»„ï¼Œæ›´å¤šçš„æ˜¯ä½¿ç”¨â€œåˆ‡ç‰‡(slice)â€ã€‚

### å®šä¹‰æ•°ç»„

ä¸å®šä¹‰å˜é‡ç›¸åŒï¼Œä¸è¿‡æ•°ç»„åªèƒ½ä½¿ç”¨ `var` å…³é”®å­—å®šä¹‰ï¼š
```go
var arr1 [3]int // å…ˆå£°æ˜åèµ‹å€¼
fmt.Println(arr1) //[0,0,0] 
```

å¯¹äºå…ˆå£°æ˜åèµ‹å€¼çš„æ•°ç»„ï¼ŒGo èµ‹äºˆä¸€ä¸ªé»˜è®¤å€¼ï¼Œä¹Ÿå°±æ˜¯å¯¹åº”ç±»å‹çš„ `nil` å€¼ã€‚
å½“ç„¶ï¼Œä¹Ÿå¯ä»¥çœç•¥å…³é”®å­—ï¼Œå£°æ˜æ•°ç»„çš„åŒæ—¶è¿›è¡Œèµ‹å€¼
```go
arr2 := [3]int{1, 2, 3}
```

ä¹Ÿå¯ä»¥çœç•¥é•¿åº¦ï¼Œç”¨ `â€¦` ç¬¦å·ä»£æ›¿ï¼Œè®© Go ç¼–è¯‘å™¨å¸®æˆ‘ä»¬è®¾ç½®æ•°ç»„é•¿åº¦ã€‚è¯¥ç§å†™æ³•åªæ”¯æŒæ•°ç»„çš„å­—é¢é‡å®šä¹‰å½¢å¼ã€‚
```go
var arr3 = [...]int{1, 2, 3, 4}
arr4 := [...]int{1, 2, 3, 4}
```

### äºŒç»´æ•°ç»„

`[è¡Œ][åˆ—]`
```go
var arr4 [2][3]bool
arr5 := [2][3]int{
	{1, 2, 3},
	{4, 5, 6},
}
```

### å€¼ä¼ é€’

Go ä¸­çš„æ•°ç»„é»˜è®¤æ˜¯å€¼ä¼ é€’çš„
```go
func updateArr(arr [3]int) [3]int{
	arr[0] = 100
	return arr
}

func main(){
	arr1 := [3]
	fmt.Println(updateArr(arr1), arr1) // [100 0 0] [0 0 0]
	
	// âŒ
	arr2 := [...]int{1,2,3,4}
	updateArr(arr2) // incorrrect, [3]int ä¸ [4]int ä¸æ˜¯ä¸€ä¸ªç±»å‹
}
```

### å¼•ç”¨ä¼ é€’æ•°ç»„

å¦‚æœéœ€è¦åœ¨å¦ä¸€ä¸ªæ–¹æ³•ä¸­ä¿®æ”¹æ•°ç»„å…ƒç´ çš„å€¼ï¼Œå¯ä»¥å°†æ•°ç»„çš„æŒ‡é’ˆä¼ é€’è¿›å»ã€‚
```go
func updateArrByRef(arr *[3]int) {
		arr[0] = 100
}

func main(){
		var arr1 [3]int
		fmt.Println(arr1) //[0,0,0]
		
		updateArrByRef(&arr1)
		fmt.Println(arr1) //[100,0,0]
}
```

## åˆ‡ç‰‡

### åŸºæœ¬æ¦‚å¿µ

åˆ‡ç‰‡ï¼ˆsliceï¼‰æ˜¯å¯¹åº•å±‚æ•°ç»„å»ºç«‹çš„ä¸€å±‚è§†å›¾ï¼ˆviewï¼‰ã€‚è§†å›¾çš„èŒƒå›´ç”±åˆ‡ç‰‡çš„ä¸‹æ ‡åŒºé—´æŒ‡å®šï¼Œéµå¾ªç€å‰å¼€åé—­çš„åŒºé—´ç‰¹æ€§ã€‚
```go
arr := [...]int{0, 1, 2, 3}
var s = arr[0:2] //[0, 1]
```

åˆ‡ç‰‡çš„ä¸‹æ ‡åŒºé—´æœ‰å¤šç§å†™æ³•ï¼š
* **`[start:end]`**ï¼šé€šè¿‡èµ·å§‹ä¸ç»“æŸä¸‹æ ‡ä»æ•°ç»„ä¸­å»ºç«‹åˆ‡ç‰‡ï¼ˆæ³¨ï¼šä¸å«ç»“æŸä¸‹æ ‡ï¼‰
* **`[start:]`**ï¼šä»èµ·å§‹ä¸‹æ ‡å¼€å§‹åˆ°æ•´ä¸ªæ•°ç»„æœ«å°¾æ¥å»ºç«‹åˆ‡ç‰‡ã€‚
* **`[:end]`**ï¼šä»æ•°ç»„çš„èµ·å§‹ä¸‹æ ‡åˆ°æŒ‡å®šçš„ç»“æŸä¸‹æ ‡æ¥å»ºç«‹åˆ‡ç‰‡ã€‚
* **`[:]`**ï¼šå»ºç«‹å¯¹æ•´ä¸ªæ•°ç»„é•¿åº¦çš„åˆ‡ç‰‡ã€‚
```go
var s1 = arr[0, 2]
var s2 = arr[1:]
var s3 = arr[2:]
var s4 = arr[:]
```

åœ¨ `Go` ä¸­æ•°ç»„æ˜¯â€œå€¼ç±»å‹â€çš„ï¼Œä½†åˆ‡ç‰‡ï¼ˆsliceï¼‰åˆ™æ˜¯â€œå¼•ç”¨ç±»å‹â€ï¼Œå› ä¸ºå®ƒæœ¬è´¨æ˜¯å¯¹æ•°ç»„ çš„è§†å›¾ï¼ˆviewï¼‰ï¼Œæ˜¯æŒ‡å‘åŸæ•°ç»„çš„æŒ‡é’ˆã€‚
```go
func updateSlice(s []int){
	var sum int
	for _, v := range s {
		sum+=v
	}
	s[0] = sum
}

func main(){
	arr:= [...]int{0, 1, 2, 3}
	updateSlice(arr[:]) //[6, 1, 2, 3]
}
```

> [!tip]
> åˆ‡ç‰‡çš„ç±»å‹æ˜¯ `[]int` ï¼Œå¯¹æ¯”æ•°ç»„éœ€è¦åŒæ—¶æ»¡è¶³é•¿åº¦ä¸ç±»å‹ï¼Œåˆ‡ç‰‡åªéœ€è¦æ»¡è¶³ç±»å‹å³å¯ã€‚ä¹Ÿå› æ­¤åœ¨ `Go` ä¸­åˆ‡ç‰‡æ¯”æ•°ç»„æ›´åŠ çš„å¸¸ç”¨ã€‚

> [!note]
> å¯ä»¥å°†åˆ‡ç‰‡ç®€å•ç†è§£ä¸ºå¯¹åº•å±‚æ•°ç»„æŸä¸ªåŒºåŸŸçš„æ˜ å°„ã€‚
### é‡ç»„åˆ‡ç‰‡

åˆ‡ç‰‡æ”¯æŒæ‹“å±•ï¼Œå…¶æœ€å¤§å¯æ‹“å±•é•¿åº¦æ˜¯å…¶åº•å±‚æ•°ç»„çš„æœ€å¤§é•¿åº¦ã€‚
```go
arr := [...]int{0, 1, 2, 3}
var s = arr[0:3]
fmt.Println(s) //[0, 1, 2]

// extend slice
s = s[0:4];
fmt.Println(s) //[0, 1, 2, 3]
fmt.Println(s[3]) //3
```

åˆ‡ç‰‡çš„æ‹“å±•åªèƒ½é€šè¿‡åˆ‡ç‰‡çš„ä¸‹æ ‡åŒºé—´è¯­æ³•è¿›è¡Œæ‰©å±•ï¼Œå¦‚æœç›´æ¥ä½¿ç”¨ç´¢å¼•ä¸‹æ ‡è®¿é—®ä¸€ä¸ªä¸å­˜åœ¨çš„å…ƒç´ ï¼Œåˆ™ä¼šæŠ¥æ•°ç»„è¶Šç•Œ `(index out of range)` çš„é”™è¯¯ã€‚
```go
s = arr[0:3]
fmt.Println(s[3]) //index out of range âŒ
```

> [!tip]
> è¿™ä¹ˆåšçš„å¥½å¤„æ˜¯å½“åˆ‡ç‰‡è¾¾åˆ°å®¹é‡ä¸Šé™åå¯ä»¥æ‰©å®¹ã€‚
> æ”¹å˜åˆ‡ç‰‡é•¿åº¦çš„è¿‡ç¨‹ç§°ä¹‹ä¸ºåˆ‡ç‰‡é‡ç»„ `Reslice`ã€‚

åˆ‡ç‰‡é‡ç»„çš„åŸç†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![[slice.svg]]
ç»“åˆä¸Šå›¾ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªåˆ‡ç‰‡ï¼Œ`s` ä¸ `s2`, æ¯ä¸ªåˆ‡ç‰‡éƒ½å­˜å‚¨äº†ä»¥ä¸‹ä¸‰ä¸ªå­—æ®µï¼š
* **ptr** : åˆ‡ç‰‡æŒ‡å‘çš„åº•å±‚æ•°ç»„çš„èµ·å§‹ä½ç½®ã€‚å¯¹äºåˆ‡ç‰‡æ¥è¯´ï¼Œå®ƒæ€»æ˜¯ä»ä¸‹æ ‡ä¸º 0 çš„ç´¢å¼•å¼€å§‹ï¼Œä½†å¯¹äºæŒ‡å‘çš„åº•å±‚æ•°ç»„çš„ä½ç½®è€Œè¨€å¹¶ä¸æ€»æ˜¯è¿™æ ·ã€‚ä¾‹å¦‚ï¼Œåˆ‡ç‰‡ `s` æ˜¯ä»æ•°ç»„çš„ç¬¬ `1` ä¸ªå…ƒç´ å¼€å§‹ï¼›åˆ‡ç‰‡ `s2` æ˜¯ä»æ•°ç»„çš„ç¬¬ `0` ä¸ªå…ƒç´ å¼€å§‹ã€‚
* **len** : åˆ‡ç‰‡çš„é•¿åº¦ã€‚ä¹Ÿæ˜¯å½“å‰åˆ‡ç‰‡çš„å®é™…å®¹é‡ï¼Œåˆ‡ç‰‡éµå¾ªå‰å¼€åé—­çš„åŸåˆ™ï¼Œå› æ­¤åˆ‡ç‰‡ `s` ä¸åŒ…å«åº•å±‚æ•°ç»„ä¸‹æ ‡ä¸º 3 çš„å…ƒç´ ï¼Œåˆ°ä¸‹æ ‡ä¸º `2` çš„æ•°ç»„å…ƒç´ æˆªæ­¢ï¼›åˆ‡ç‰‡ `s2` åŒç†ï¼Œä¸åŒ…å«ä¸‹æ ‡ä¸º `4` çš„æ•°ç»„å…ƒç´ ï¼Œè€Œæ˜¯åˆ°ä¸‹æ ‡ä¸º `3` çš„æ•°ç»„å…ƒç´ ä¸ºæ­¢ã€‚
* **cap** ï¼šåˆ‡ç‰‡çš„æœ€å¤§å®¹é‡ã€‚é€šå¸¸æ¥è¯´ `len <= cap`ï¼Œå¦‚æœ `len < cap` åˆ™è¯´æ˜åº•å±‚æ•°ç»„æœ‰éƒ¨åˆ†å…ƒç´ ä¸èƒ½è¢«åˆ‡ç‰‡æ”¾é—®ï¼Œè‹¥å¼ºè¡Œé€šè¿‡ç´¢å¼•ä¸‹æ ‡è®¿é—®è¿™äº›æ— æ³•è®¿é—®çš„å…ƒç´ ï¼Œåˆ™ä¼šå¯¼è‡´ `panic`ã€‚

æ‹“å±•åˆ‡ç‰‡æ—¶ï¼Œå®é™…ä¸Šå°±æ˜¯æŠŠ `len` çš„å€¼å‘ `cap` å¢å¤§ï¼Œæ‰©å……åˆ‡ç‰‡çš„å®¹é‡ï¼Œä½¿å…¶èƒ½è®¿é—®åº•å±‚æ•°ç»„æ›´å¤šçš„å…ƒç´ ã€‚

> [!warning]
> åˆ‡ç‰‡åªèƒ½å‘åæ‹“å±•ï¼Œä¸èƒ½å‘å‰æ‹“å±•ï¼

ç°åœ¨åŸºäº `s2` åˆ›å»º `s3` åˆ‡ç‰‡ï¼Œå¹¶å¯¹åˆ‡ç‰‡è¿›è¡Œé‡ç»„ï¼Œè®©åˆ‡ç‰‡ s3 å¯ä»¥è®¿é—® s2 æ— æ³•è®¿é—®çš„ä¸‹æ ‡ä¸º 4 çš„æ•°ç»„å…ƒç´ ã€‚
```go
var s3 = s2[2:5]
s3[0] = 10
s3[1] = 11
fmt.Println(arr) //[1, 2, 10, 11, 5]
fmt.Println(s3[3]) //[10, 11, 5]
```
ç”±æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºï¼Œé€šè¿‡åˆ‡ç‰‡åˆ›å»ºçš„åˆ‡ç‰‡ï¼Œæœ¬è´¨è¿˜æ˜¯ä»ä¸Šä¸ªåˆ‡ç‰‡æ‰€æ˜ å°„çš„æ•°ç»„åŒºåŸŸæ¥åˆ›å»ºæ–°çš„åˆ‡ç‰‡ï¼Œå¤šä¸ªåˆ‡ç‰‡çš„å…ƒç´ ä¸‹æ ‡å¯èƒ½ä¸ä¸€æ ·ï¼Œä½†æ˜¯å¯¹åº”å…³è”çš„åº•å±‚æ•°ç»„å…ƒç´ åˆ™æ˜¯åŒä¸€ä¸ªã€‚

![[slice-extends.svg]]

### åˆ›å»ºåˆ‡ç‰‡

#### å£°æ˜åˆ‡ç‰‡

å£°æ˜ä¸€ä¸ª sliceï¼Œå¹¶ç”¨ `nil` å€¼å¡«å……
```go
var s []int
```

#### å­—é¢é‡

ä½¿ç”¨ slice çš„å­—é¢é‡å®šä¹‰ï¼š
```go
var s = []int{1, 2, 3, 4}
```

#### ä¸‹æ ‡åŒºé—´

åŸºäºå·²æœ‰æ•°ç»„åˆ›å»º slice â€”â€” ä½¿ç”¨åˆ‡ç‰‡çš„ä¸‹æ ‡åŒºé—´è¯­æ³•ï¼š
```go
var s = arr[:]
```

#### make å‡½æ•°

ä½¿ç”¨ `make` å‡½æ•°åˆ›å»º sliceï¼š
```go
var s = make([]int, 10, 20);
```
> ä¼šä½¿ç”¨æŒ‡å®šç±»å‹çš„ `nil` å€¼ä½œä¸ºåˆ‡ç‰‡å…ƒç´ çš„åˆå§‹å€¼ã€‚

### åˆ‡ç‰‡æ“ä½œ
#### len

è·å–åˆ‡ç‰‡çš„å…ƒç´ æ•°é‡
```go
var s = []int{1, 2, 3}
len(s) //3
```

#### cap

è·å–åˆ‡ç‰‡çš„ `capacity`ï¼Œä¹Ÿå°±æ˜¯åˆ‡ç‰‡åº•å±‚æ•°ç»„çš„é•¿åº¦ã€‚
```go
var s = make([]int, 10, 20)
cap(s) //20
```

#### make

åˆ›å»ºåˆ‡ç‰‡ï¼Œå¹¶ä½¿ç”¨å¯¹åº”ç±»å‹çš„ nil å€¼åˆå§‹åŒ–åˆ‡ç‰‡å…ƒç´ ã€‚
å¯ä»¥æŒ‡å®šåˆ‡ç‰‡çš„ `len` ä¸ `cap` é•¿åº¦ã€‚

`make(type, len, arrayLength)`
* `type`: åˆ‡ç‰‡çš„ç±»å‹ã€‚
* `len`ï¼šåˆ‡ç‰‡çš„é•¿åº¦ã€‚
* `arrayLength`ï¼šåˆ‡ç‰‡åº•å±‚æ•°ç»„çš„é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯åˆ‡ç‰‡çš„ `cap` å€¼ã€‚

```go
var s1 = make([]int, 5, 15)
var s2 []int

for i:=0; i<10; i++{
	s1 = append(s1, 2*i+1)
	s2 = append(s2, 2*i+1)
}

fmt.Println(s1) // [0 0 0 0 0 1 3 5 7 9 11 13 15 17 19]
fmt.Println(s2) // [1 3 5 7 9 11 13 15 17 19]
```

>[!tip]
>`make` å‡½æ•°ä¸»è¦ç”¨äºäº‹å…ˆåˆ›å»ºå…·æœ‰é•¿åº¦çš„åˆ‡ç‰‡ã€‚åˆ‡ç‰‡çš„å…ƒç´ åˆ™åœ¨åˆ›å»ºä¹‹åå†è®¾ç½®ã€‚

#### append

1. ä½¿ç”¨ `append` å‡½æ•°å‘åˆ‡ç‰‡è¿½åŠ å…ƒç´ 
``` go 
var s []int

s = append(s, 1)
s = append(s, 2)
s = append(s, 3)
s = append(s, 4)

fmt.Println(s) //[1, 2, 3, 4]
```

> [!warning] 
> ä½¿ç”¨ `append` å‡½æ•°å‘åˆ‡ç‰‡è¿½åŠ è¢æ—­ï¼Œä¼šæ”¹å˜åº•å±‚æ•°ç»„å…ƒç´ çš„å€¼ã€‚

```go
var arr = [...]int{1, 2, 3, 4}
var s = arr[1:3] //[2, 3]

s = append(s, 6) 
fmt.Println(s) //[2, 3, 6]
fmt.Println(arr) //[1, 2, 3, 6]
```

2. `append` å‡½æ•°å¯ä»¥ä¸ºåˆ‡ç‰‡è¿½åŠ å¤§äºåº•å±‚æ•°ç»„é•¿åº¦çš„å…ƒç´ æ•°é‡ï¼Œæ—¢ `len(s) > cap(s)`ã€‚å½“ä¸ºåˆ‡ç‰‡è¿½åŠ çš„å…ƒç´ æ•°é‡å¤§äºå…¶åº•å±‚æ•°ç»„çš„é•¿åº¦æ—¶ï¼Œ`Go` ç¼–è¯‘å™¨ä¼šæ‹·è´åº•å±‚æ•°ç»„åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„æ¥ä¿å­˜è¿™äº›è¿½åŠ çš„å…ƒç´ ã€‚
```go
s = append(s, 7)
s = append(s, 8)

fmt.Println(s) //[2, 3, 6, 7, 8]
fmt.Println(arr) //[1, 2, 3, 6]
```

>[!tip]
>å¯ä»¥å‘ç°è¿½åŠ çš„è¶…å‡ºåŸå§‹æ•°ç»„é•¿åº¦çš„å…ƒç´ å¹¶æ²¡æœ‰ä¿å­˜åœ¨åŸå§‹æ•°ç»„ä¸­ã€‚

3. `append(slice []Type, elems ...Type) []Type`ã€‚append æ–¹æ³•ç¬¬äºŒä¸ªå‚æ•°æ”¯æŒå¯å˜å‚æ•°ï¼Œå› æ­¤å¯ä»¥ä¼ é€’ä¸€ä¸ªå±•å¼€çš„åˆ‡ç‰‡æˆ–æ•°ç»„ï¼Œä»¥å®ç°ä¸€æ¬¡æ€§è¿½åŠ å¤šä¸ªå…ƒç´ çš„æ•ˆæœã€‚
```go
var s1 = []int{1, 2, 3}
var s2 = []int{4, 5, 6}
var s = append(s1, s2...)

fmt.Println(s) //[1, 2, 3, 4, 5, 6]
```

#### åˆ é™¤åˆ‡ç‰‡å…ƒç´ 

1. åˆ é™¤åˆ‡ç‰‡çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚
```go
func shift(){
	s := []int {1, 2, 3}
	first := s[0]
	s = s[1:]
}
```

2. åˆ é™¤åˆ‡ç‰‡æœ€åä¸€ä¸ªå…ƒç´ 
```go
func pop(){
	s := []int{1, 2, 3}
	end := s[len(s)-1]
	s = s[:len(s)-1]
}
```

3. åˆ é™¤åˆ‡ç‰‡ä¸­é—´çš„ä¸€ä¸ªå…ƒç´ 
```go
func splice() {
	s := []int{1, 2, 3, 4}
	s = append(s[:1], s[2:]...)
	fmt.Println(s) //[1, 3, 4]
}
```

## Map
